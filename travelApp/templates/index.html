{% extends "layout/base.html" %}
{% block content %}

{% include "./components/banner.html" %}
<div class="container mt-5 pt-2">
  <div class="row responsive-grid">
    <div class="col-6 responsive-width">
      <div class="row d-flex flex-column responsive-grid" style="border-bottom: 2px solid orange;">
        <h6><b>SO GLAD YOU ARE HERE</b></h6>
        <h2>TRAVEL WITH <b class="text-warning">TakeMyTrip</b></h2>
      </div>
      <p class="mt-3 text-justify">{{ desciption }}</p>
    </div>
    <div class="col-xs-6">
      <div class="row">
        <div class="col-12 p-3 ml-2">
          <img src="https://i.pinimg.com/originals/b7/94/ae/b794aee72b944d355e06aceeadc70061.jpg" alt=""
            class="cust-img responsive-img-width">
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container my-3 pt-3 responsive-hide">
  <div class="row">
    <div class="col-6">
      <img src="https://www.wallpaperup.com/uploads/wallpapers/2014/02/14/255795/0b6ccd76932e1746e7e3b4645784653c.jpg"
        alt="" class="cust-img">
    </div>
    <div class="col-6">
      <img src="https://wallpaperbook.net/wp-content/uploads/2016/04/travelling_wallpapers_hd.jpg" alt=""
        class="cust-img">
    </div>
  </div>
</div>

<div class="container mt-3 pt2 responsive-margin">
  <div class="row p-3">
    <div class="col-6">
      <div class="row  d-flex flex-column " style="border-bottom: 2px solid orange;">
        <h1 class="responsive-heading-font"><b>AWARDS</b></h1>
        <h6 style="color:red;">Our Achievements</h6>
      </div>
    </div>
  </div>
</div>

<div class="container mt-3 responsive-margin">
  <div class="row pl-2">
    {% for item in award %}
    <div class="card mr-5 responsive-margin" style="width: 18rem;">
      <img src={{ item.image.url }} class="card-img-top responsive-card-img" style="width: 18rem; height: 15rem;"
        alt="...">
      <div class="card-body">
        <p class="card-text"><b>{{item.title}}</b></p>
      </div>
    </div>
    {% endfor %}

  </div>
</div>


<div class="container mt-3 pt-2 responsive-margin responsive-width">
  <div class="row p-3">
    <div class="col-6">
      <div class="row  d-flex flex-column " style="border-bottom: 2px solid orange;">
        <h1 class="responsive-heading-font"><svg width="1.2em" height="1.2em" viewBox="0 0 16 16"
            class="bi bi-star-fill text-warning mr-2" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
          </svg>NEW <b>OFFERS</b></h1>
        <h6 style="color:red;">Exciting Offers Waiting For You</h6>
      </div>
    </div>
  </div>
</div>




<div class="container mt-3 responsive-hide">
  <marquee behavior="scroll" direction="left" scrollamount="5">
    <div class="row pl-2">
      {% for item in offers %}
      <div class="col-4 ">
        <div class="card mb-4 shadow-sm">
          <img src={{ item.image.url }} class="card-img-top" alt="..." style="height: 15rem;">
          <div class="card-body">
            <p class="card-title"><b>{{ item.packages_name }}</b></p>
            <p class="card-text"><svg class="text-danger mr-2" width="1em" height="1em" viewBox="0 0 16 16"
                class="bi bi-alarm" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd"
                  d="M6.5 0a.5.5 0 0 0 0 1H7v1.07a7.001 7.001 0 0 0-3.273 12.474l-.602.602a.5.5 0 0 0 .707.708l.746-.746A6.97 6.97 0 0 0 8 16a6.97 6.97 0 0 0 3.422-.892l.746.746a.5.5 0 0 0 .707-.708l-.601-.602A7.001 7.001 0 0 0 9 2.07V1h.5a.5.5 0 0 0 0-1h-3zm1.038 3.018a6.093 6.093 0 0 1 .924 0 6 6 0 1 1-.924 0zM8.5 5.5a.5.5 0 0 0-1 0v3.362l-1.429 2.38a.5.5 0 1 0 .858.515l1.5-2.5A.5.5 0 0 0 8.5 9V5.5zM0 3.5c0 .753.333 1.429.86 1.887A8.035 8.035 0 0 1 4.387 1.86 2.5 2.5 0 0 0 0 3.5zM13.5 1c-.753 0-1.429.333-1.887.86a8.035 8.035 0 0 1 3.527 3.527A2.5 2.5 0 0 0 13.5 1z" />
              </svg>{{item.day}} Days/ {{item.night}} Night</p>
            <div class="d-flex justify-content-between align-items-center">
              <div class="btn-group">
                <a type="button" class="btn btn-sm btn-outline-warning" href="/package/items/{{item.id}}">Details</a>
              </div>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </marquee>
</div>

<div class="container mt-3 responsive-display responsive-margin">
  <div class="row pl-2">
    {% for item in offers %}
    <div class="card mb-4 shadow-sm responsive-margin" style="width: 18rem;">
      <img src={{ item.image.url }} class="card-img-top" alt="..." style="height: 15rem; width: 18rem;">
      <div class="card-body">
        <p class="card-title"><b>{{ item.packages_name }}</b></p>
        <p class="card-text"><svg class="text-danger mr-2" width="1em" height="1em" viewBox="0 0 16 16"
            class="bi bi-alarm" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
              d="M6.5 0a.5.5 0 0 0 0 1H7v1.07a7.001 7.001 0 0 0-3.273 12.474l-.602.602a.5.5 0 0 0 .707.708l.746-.746A6.97 6.97 0 0 0 8 16a6.97 6.97 0 0 0 3.422-.892l.746.746a.5.5 0 0 0 .707-.708l-.601-.602A7.001 7.001 0 0 0 9 2.07V1h.5a.5.5 0 0 0 0-1h-3zm1.038 3.018a6.093 6.093 0 0 1 .924 0 6 6 0 1 1-.924 0zM8.5 5.5a.5.5 0 0 0-1 0v3.362l-1.429 2.38a.5.5 0 1 0 .858.515l1.5-2.5A.5.5 0 0 0 8.5 9V5.5zM0 3.5c0 .753.333 1.429.86 1.887A8.035 8.035 0 0 1 4.387 1.86 2.5 2.5 0 0 0 0 3.5zM13.5 1c-.753 0-1.429.333-1.887.86a8.035 8.035 0 0 1 3.527 3.527A2.5 2.5 0 0 0 13.5 1z" />
          </svg>{{item.day}} Days/ {{item.night}} Night</p>
        <div class="d-flex justify-content-between align-items-center">
          <div class="btn-group">
            <a type="button" class="btn btn-sm btn-outline-warning" href="/package/items/{{item.id}}">Details</a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>


<div class="container mt-3 pt2 responsive-margin">
  <div class="row p-3">
    <div class="col-6">
      <div class="row  d-flex flex-column " style="border-bottom: 2px solid orange;">
        <h1 class="responsive-heading-font"><b>NEWS</b></h1>
        <h6 style="color:red;">News & Announcements</h6>
      </div>
    </div>
  </div>
</div>

<div class="container mt-3 responsive-margin">
  <div class="row">
    {% for item in news %}
    <div class="card mr-5 responsive-margin" style="width: 18rem;">
      <img src={{ item.image.url }} class="card-img-top" style="width: 18rem; height: 15rem;" alt="...">
      <div class="card-body">
        <p class="card-text"><b>{{item.title}}</b></p>
      </div>
    </div>
    {% endfor %}

  </div>
</div>


<div class="container mt-3 pt2 responsive-margin">
  <div class="row p-3">
    <div class="col-6">
      <div class="row  d-flex flex-column " style="border-bottom: 2px solid orange;">
        <h1 class="responsive-heading-font"><b>HOTELS</b></h1>
        <h6 style="color:red;">We can make tailor packages as per your requirements</h6>
      </div>
    </div>
  </div>
</div>


<div class="container mt-3 responsive-width">

  <div class="row p-3">
    {% for item in hotels %}
    <div class="card mb-4 mr-5 shadow-sm responsive-margin" style="width:18rem;">
      <img src={{ item.image.url }} class="card-img-top" alt="..." style="height: 15rem;width:17.5rem;">
      <div class="card-body">
        <p class="card-title"><b>{{ item.name }}</b></p>
        <p class="card-text">
          <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-star-fill mr-3 text-warning"
            fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
          </svg>{{item.star}} star
        </p>
        <p class="card-text">
          <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-geo-alt mr-3 text-warning" fill="currentColor"
            xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
              d="M12.166 8.94C12.696 7.867 13 6.862 13 6A5 5 0 0 0 3 6c0 .862.305 1.867.834 2.94.524 1.062 1.234 2.12 1.96 3.07A31.481 31.481 0 0 0 8 14.58l.208-.22a31.493 31.493 0 0 0 1.998-2.35c.726-.95 1.436-2.008 1.96-3.07zM8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10z" />
            <path fill-rule="evenodd" d="M8 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" />
          </svg>
          {{item.adress}} </p>
        <p class="card-text">{{item.description}}<br><b> . . .</b></p>
        <div class="d-flex justify-content-between align-items-center">
          <div class="btn-group">
          </div>
        </div>
        <div class="card-item">
          <a href="/hoteldetails/{{item.country.id}}/{{item.id}}" class="btn btn-outline-primary">Know more</a>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>


<div class="container mt-3 pt2 responsive-margin">
  <div class="row p-3">
    <div class="col-6">
      <div class="row  d-flex flex-column " style="border-bottom: 2px solid orange;">
        <h1 class="responsive-heading-font">TOURS BY <b>INTEREST</b></h1>
        <h6 style="color:red;">Popular Catagories</h6>
      </div>
    </div>
  </div>
</div>


<div class="container mt-3 responsive-margin">
  <div class="row">
    {% for item in interest %}
    <div class="card mb-4 mr-5 shadow-sm responsive-margin" style="width:18rem;">
      <img src={{ item.image.url }} class="card-img-top" alt="..." style="width:18rem; height: 15rem;">
      <div class="card-body">
        <p class="card-title"><b>{{ item.title }}</b></p>
        <p class="card-text">{{ item.description }} ......</p>
        <div class="d-flex justify-content-between align-items-center">
          <div class="btn-group">
            <a type="button" class="btn btn-sm btn-outline-info" href="/interest/{{item.id}}">Read More</a>
          </div>
        </div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>




<div class="container-fluid responsive-hide">
  <div class="row">
    <div class="col-6">
      <img id="imgTag" alt="" style="width: 40rem; height: 30rem;">
    </div>
    <div class="col-6">
      <div class="row">
        <div class="cust-right py-2">
          <h3 class="text-warning my-5 mx-5">INDIAN SUBCONTINENT</h3>
          <h2 class="text-white mx-5" style="font-size:1.5rem; font-weight: bolder;" id="blogTitle"></h2>
          <p class="text-white mx-5 mt-3" id="blogText"></p>
          <div class="mt-3 ml-5 mt-5">
            <svg id="leftkey" width="2em" height="2em" viewBox="0 0 16 16"
              class="bi bi-arrow-left-circle-fill text-light mr-3" fill="currentColor"
              xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd"
                d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5.5a.5.5 0 0 0 0-1H5.707l2.147-2.146a.5.5 0 1 0-.708-.708l-3 3a.5.5 0 0 0 0 .708l3 3a.5.5 0 0 0 .708-.708L5.707 8.5H11.5z" />
            </svg>
            <svg id="rightkey" width="2em" height="2em" viewBox="0 0 16 16"
              class="bi bi-arrow-right-circle-fill text-light" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd"
                d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-11.5.5a.5.5 0 0 1 0-1h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5z" />
            </svg>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row justify-content-center my-2 flex-column">
    <div class="mx-auto">
      <h1 class="mt-5 responsive-heading-font">WHAT OUR CLIENTS SAYS</h1>
    </div>
    <div class="mx-auto text-warning">
      <b>
        <svg width="1.8em" height="2em" viewBox="0 0 16 16" class="bi bi-chevron-double-right" fill="currentColor"
          xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd"
            d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z" />
          <path fill-rule="evenodd"
            d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z" />
        </svg>
        <svg width="5em" height="2em" viewBox="0 0 16 16" class="bi bi-dash" fill="currentColor"
          xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z" />
        </svg>
        <svg width="1.8em" height="2em" viewBox="0 0 16 16" class="bi bi-chevron-double-left" fill="currentColor"
          xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd"
            d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" />
          <path fill-rule="evenodd"
            d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z" />
        </svg>
      </b>
    </div>
    <div class="mx-auto mt-5 flex-column row">
      <p class="mx-auto" id="clientText"></p>
      <p class="mx-auto" id="clientName" style="font-weight: bolder;"></p>
    </div>
  </div>
</div>

<div class="container-fluid responsive-width-fluid">
  <div class="row">
    <marquee behavior="scroll" direction="left" scrollamount="10" class="responsive-hide">
      {% for i in gallary %}
      <img src={{i.image.url}} alt="" class="mx-3 "
        style="height: 8rem; width: 20rem; border: 3px solid black; padding: 3px; border-radius: 10rem;">
      {% endfor %}
    </marquee>
    <marquee behavior="scroll" direction="left" scrollamount="10" class="responsive-display">
      {% for i in gallary %}
      <img src={{i.image.url}} alt="" class="mx-3 "
        style="height: 8rem; width: 15rem; border: 3px solid black; padding: 3px; border-radius: 10rem;">
      {% endfor %}
    </marquee>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script>
  //banner
  const bannerURL = "/api/bannar"
  let bannarIndex = 0;
  let bannarData = [];
  let bannarLocation = "";

  function bannarIterator(params) {
    return {
      next: function () {
        return bannarIndex < params.length ?
          {
            value: params[bannarIndex++],
            done: false
          } :
          {
            done: true
          }
      }
    }

  }

  function nextbannarlocation() {
    var currentLocation = bannarLocation.next().value;
    if (currentLocation != undefined) {
      $(".banner").css({
        "background": 'url("/media/' + currentLocation.image + '"), linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.3))',
        "background-size": "cover",
        "background-position": "50% 50%",
        "background-blend-mode": "multiply",
        "background-repeat": "no-repeat"

      })
      $(".main-name").text(currentLocation.name.toUpperCase())
    }
  }

  fetch(bannerURL).then(res => {
    return res.json()
  }).then(data => {
    bannarData = data.data;
    bannarLocation = bannarIterator(bannarData);
    nextbannarlocation()
  })

  $(".banner").ready(
    function () {
      if ($("#bannarTitle") != {}) {
        setInterval(function () {
          $("#bannarTitle").fadeOut("fast", () => (
            $("#bannarTitle").slideToggle(2000)
          ))
          if (bannarIndex >= bannarData.length) {
            bannarIndex = 0;
          }
          nextbannarlocation()
        }, 3000)
      }
    }
  )


  //blog
  const blogURL = "/api/blog"
  let blogData = [];
  let tempLocation = "";
  let nextIndex = 0;

  function locationIterator(items) {
    return {
      next: function () {
        return nextIndex < items.length ?
          { value: items[nextIndex++], done: false } :
          { done: true };
      },
    };
  }
  function nextLocation() {
    var currentLocation = tempLocation.next().value;
    let img = document.getElementById("imgTag");
    if (currentLocation != undefined) {
      if (img != null) {
        img.src = currentLocation.image;
      }
      $("#blogTitle").text(nextIndex + ". " + currentLocation.title);
      $("#blogText").text(currentLocation.description);
    }
  }

  fetch(blogURL).then(res => {
    return res.json()
  }).then(data => {
    blogData = data.data
    tempLocation = locationIterator(blogData);
    nextLocation();
  })
  $(function () {
    $("#rightkey").click(() => {
      nextLocation();
    })

    $("#leftkey").click(() => {
      nextIndex--;
      nextIndex--;
      nextLocation();
    })


  })

  //client

  let clientIndex = 0;
  let clientData = [];
  let clientLocation = "";
  let clientURL = "/api/client"

  function clientIterator(items) {
    return {
      next: function () {
        return clientIndex < items.length ?
          { value: items[clientIndex++], done: false } :
          { done: true };
      },
    };
  }



  function clientnextLocation() {
    var currentLocation = clientLocation.next().value;
    if (currentLocation != undefined) {
      $("#clientText").text(currentLocation.text);
      $("#clientName").text("―  " + currentLocation.name)
    }
  }

  fetch(clientURL).then(res => {
    return res.json()
  }).then(data => {
    clientData = data.clients
    clientLocation = clientIterator(clientData);
    clientnextLocation();
  })

  $(function () {
    setInterval(() => {
      if (clientIndex <= clientData.length) {
        clientnextLocation();
      } else if (clientIndex < 0) {
        clientIndex++;
      }
      else {
        clientIndex--;
      }
    }, 5000);
  })


</script>
{% endblock  %}
